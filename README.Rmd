---
output:
  md_document:
    variant: markdown_github
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, echo = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "README-figs/",
  cache.path = "README-cache/"
)
```

# bayesdfa

[![R build status](https://github.com/fate-ewi/bayesdfa/workflows/R-CMD-check/badge.svg)](https://github.com/fate-ewi/bayesdfa/actions)
  
bayesdfa implements Bayesian Dynamic Factor Analysis (DFA) with Stan.

You can install the development version of the package with:

```{r, eval=FALSE}
# install.packages("devtools")
devtools::install_github("fate-ewi/bayesdfa")
```

## Vignettes
We've put together several vignettes for using the `bayesdfa` package.
[Combining data](https://fate-ewi.github.io/bayesdfa/articles/combining_data.html)
[Compositional models](https://fate-ewi.github.io/bayesdfa/articles/compositional.html)
[Including covariates](https://fate-ewi.github.io/bayesdfa/articles/covariates.html)
[Estimating process variance](https://fate-ewi.github.io/bayesdfa/articles/estimate_process_sigma.html)

## Citing

For DFA models in general, we recommend citing the MARSS package or user guide.

```
@article{marss_package,
	title = {{MARSS}: multivariate autoregressive state-space models for analyzing time-series data},
	volume = {4},
	url = {https://pdfs.semanticscholar.org/5d41/b86dff5f977a0eac426a924cf7917220fc9a.pdf},
	number = {1},
	journal = {R Journal},
	author = {Holmes, E.E. and Ward, Eric J. and Wills, K.},
	year = {2012},
	pages = {11--19}
}
```

```
@article{marss_package,
	title = {{MARSS}: multivariate autoregressive state-space models for analyzing time-series data},
	volume = {4},
	url = {https://pdfs.semanticscholar.org/5d41/b86dff5f977a0eac426a924cf7917220fc9a.pdf},
	number = {1},
	journal = {R Journal},
	author = {Holmes, E.E. and Ward, Eric J. and Wills, K.},
	year = {2012},
	pages = {11--19}
}
```

For citing the `bayesdfa` package using Bayesian estimation, or models with 
extra features (such as extremes), cite 

<https://journal.r-project.org/archive/2019/RJ-2019-007/index.html>

```
@article{ward_etal_2019,
  author = {Eric J. Ward and Sean C. Anderson and Luis A. Damiano and
          Mary E. Hunsicker and Michael A. Litzow},
  title = {{Modeling regimes with extremes: the bayesdfa package for
          identifying and forecasting common trends and anomalies in
          multivariate time-series data}},
  year = {2019},
  journal = {{The R Journal}},
  doi = {10.32614/RJ-2019-007},
  url = {https://journal.r-project.org/archive/2019/RJ-2019-007/index.html}
}
```

### Applications

The 'bayesdfa' models were presented to the PFMC's SSC in November 2017 and have been included in the 2018 California Current Integrated Ecosystem Report, https://www.integratedecosystemassessment.noaa.gov/Assets/iea/california/Report/pdf/CCIEA-status-report-2018.pdf

### Funding 
The 'bayesdfa' package was funded by a NOAA Fisheries and the Environment (FATE) grant on early warning indicators, led by Mary Hunsicker and Mike Litzow. 


